<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo lists</title>
</head>
<body>

    <!-- Todo List 1 -->
    <p> Todo List</p>
    

    <input type="text" placeholder="Todo name" class="js-name-input">
    
    <input type="date">

    <button onclick="
    addTodo();
    ">Add</button>
    <!-- End of todoList 1 -->

    <!-- Create an element to put the html elements -->
    <div class="js-todo-list">
        
    </div>

    <script>

        // Algorithm
        // Create an array to store the todo list
        // When we click "Add", Get text from textbox.
        // Add it to array
        // Console.log array

        // Todo List 1

        const todoList = [{
            name:'make dinner',
            dueDate:'2023-07-17'
        },{
            name: 'wash dishes',
            dueDate:'2023-07-17'
        }
    ];
        
        renderTodoList();

        function renderTodoList(){

        let todoListHTML = '';
        // Lets loop through the list
        for (let i = 0; i<todoList.length; i++){
            const todoObject = todoList[i];
            const name = todoObject.name;
            // const dueDate = todoObject.dueDate;
            // 
            const {name, dueDate } = todoObject;

            const html = `
            <p> ${name} ${dueDate}
                <button onclick="
                todoList.splice(${i}, 1);
                renderTodoList();
                "> Delete </button> 
            </p>
            `;
            
            // TO combine the html element we shall use the accumulator pattern
            todoListHTML +=html;        
        }

        // After the loop lets console.log html
        console.log(todoListHTML);

        // put the div in our javascript
        document.querySelector('.js-todo-list')
        .innerHTML = todoListHTML;

        }

        function addTodo(){
           const inputElement = document.querySelector('.js-name-input');
        //    To get the text out we use the value element
       const name = inputElement.value;
        // Add the name to the array
        todoList.push(name);
        console.log(todoList);
        
        // value property represents the text in the text box and we should reset it afteradding
        inputElement.value = '';

        renderTodoList();
        }

        // End of todoList 1

        // Algorithm
        // 1. Loop through the array 
        // Create some HTML Code for each todo
        // Put the HTML on webpage


        
        
    </script>

    
</body>
</html>